<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta charset="utf-8" />
    <title>
      Computer Vision Class Project | CS, Georgia Tech | Fall 2020: CS 4476
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <meta name="author" content="" />

    <!-- Le styles -->
    <link href="css/bootstrap.css" rel="stylesheet" />
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
      .vis {
        color: #3366cc;
      }
      .data {
        color: #ff9900;
      }
    </style>

    <link href="css/bootstrap-responsive.min.css" rel="stylesheet" />

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>

  <body>
    <div class="container">
      <div class="page-header">
        <!-- Title and Name -->

        <h1 style="text-align: center">Cartoonify</h1>
        <p style="font-size: 20px; line-height: 1.5em; text-align: center">
          <strong
            >Joseph Lee, Kelsey Henson, Lydon Puzon, Roger Nhan, Sabrina
            Chua</strong
          >
        </p>
        <p style="font-size: 18px; line-height: 1.5em; text-align: center">
          Fall 2020 CS 4476 Computer Vision: Class Project
        </p>
        <p style="font-size: 18px; line-height: 1.5em; text-align: center">
          Georgia Tech
        </p>

        <hr />

        Please see
        <a href="http://vision.cs.utexas.edu/projects/adapted_attributes/"
          >this</a
        >
        for an example of how to lay out the various details of your project.
        You may need to provide more details than this, beause you will not be
        submitting an associated paper to accompany the webpage. So the page
        should be self-contained <br /><br />
        <h3>Project proposal</h3>
        <a href="./proposal.pdf">Click here</a>
        <br /><br />

        <!-- Goal -->
        <h3>Abstract</h3>

        The goal of this project is to stylize an inputted image to appear like
        a cartoon image. To accomplish this, we will detect the prominent shapes
        within the image and add an outline to them, as well as normalize the
        color groups of the image, narrowing each object to a pallet of a
        predetermined amount of colors. Additionally, we will apply minimal edge
        outlines within the image to make the primary textures more prominent.
        <br /><br />
        <!-- figure -->
        <h3>Teaser figure</h3>

        <!-- Main Illustrative Figure -->
        <div style="text-align: center">
          <img style="height: 300px" alt="" src="cartoonifying-image.png" />
        </div>

        <br /><br />
        <!-- Introduction -->
        <h3>Introduction</h3>
        Motivation behind the problem you are solving, what applications it has,
        any brief background on the particular domain you are working in (if not
        regular RBG photographs), etc. If you are using a new way to solve an
        existing problem, briefly mention and describe the existing approaches
        and tell us how your approach is new.

        <br /><br />
        <!-- Approach -->
        <h3>Approach</h3>
        <h5>Normalizing Colors</h5>
        Our approach for altering the colors will include normalizing the color
        pallet using hue saturation and grouping shade colors together. To
        normalize the pallet, we will choose a predefined set of colors that
        generalizes only a few colors to each object. This choice will be made
        using hue saturation techniques. We will then group together these
        colors by the objects they belong to in order to reduce the amount of
        color variation across the image.

        <h5>Reinforcing Outlines</h5>
        In order to create a hard outline of objects within the object, such as
        in a cartoon styled image, we will smooth and reinforce the outlines of
        objects within the images. We will smooth the outlines to be straighter
        and more defined to reduce excessive corners and line complexity. The
        techniques used in this will be Canny Edge Detection to first find the
        object lines and thresholding to detect and increase the thresholds of
        the images to a larger pixel value.

        <h5>Smooth Textures</h5>
        To recreate the textures of a cartoon, we will detect highly textured
        areas within the images and either replace those selected texture
        patterns with a reduced image bank of smoother textures or apply a
        median filter to blur the image slightly to reduce the textures. Our
        team will decide on the final technique utilized here through
        experimentation on the image to test for best results.

        <br /><br />
        <!-- Results -->
        <h3>Experiments and results</h3>
        <!--Provide details about the experimental set up (number of images/videos, number of datasets you experimented with, train/test split if you used machine learning algorithms, etc.). Describe the evaluation metrics you used to evaluate how well your approach is working. Include clear figures and tables, as well as illustrative qualitative examples if appropriate. Be sure to include obvious baselines to see if your approach is doing better than a naive approach (e.g. for classification accuracy, how well would a classifier do that made random decisions?). Also discuss any parameters of your algorithms, and tell us how you set the values of those parameters. You can also show us how the performance varies as you change those parameter values. Be sure to discuss any trends you see in your results, and explain why these trends make sense. Are the results as expected? Why?-->
        <h5>Edge Detection and outlining</h5>
        For the automatic edge detection, we used a canny edge detector. We
        experimented with different sigmas, low thresholds, and high thresholds
        to find the optimal setting for our needs. To accomplish this, we would
        take a sample image and plot a 5x5 grid of images, varying the low
        threshold on the y-axis and the high threshold on the x-axis. We would
        then run this test for varying sigma values and ultimately decide which
        configuration gave the best qualitative results. After finding these
        values, we run the canny edge detection on a gray-scale version of the
        input image and overlay the resulting edges as a black outline on the
        image. To better approximate how this would be used in the finished
        project, we also would first quantize the image before performing these
        steps. Additional experimentation performed was processing the edge
        detection on the original image, or a higher bin count quantizated
        version of the image (k=32), and then overlay those edges on a lower bin
        count quantized version (k=8). This served the give more outlining
        detail in the image than is apparent from just the colors, and gave a
        better sense of texture in the resulting image.
        <h5>Smooth Textures</h5>
        For smoothing textures, we initially experimented with various filters
        including the median, gaussian, and laplace filter. We ran these tests
        against our compiled 10 images to experiment with initially and visually
        checked for the desired results. For filters such as the gaussian, it
        resulted in too blurry of a result; therefore, we decided against using
        those. When trying other filters, we also ran into an issue where the
        filters would discolor the image when the size was set too high and
        depending on the contrast of the image, the filter size needed to be
        adjusted.
        <div style="text-align: center; margin: 15px 0 15px 0">
          <img style="height: 200px" alt="" src="./res/images/hill.jpg" />
          <figcaption style="padding-bottom: 15px">Original Image</figcaption>
          <img style="height: 200px" alt="" src="gaussian_filter.jpg" />
          <figcaption style="padding-bottom: 15px">
            Result of applying gaussian filter
          </figcaption>
          <img style="height: 200px" alt="" src="median_filter.jpg" />
          <figcaption>
            Result of applying median filter with larger filter size
          </figcaption>
        </div>

        Therefore, with these issues to consider, we needed to create a way to
        consolidate the colors and to create a consistent filter size. To
        address this, we created a method that would determine areas where the
        colors are similar and fill them with their average color. To determine
        if the colors are similar, we used a color threshold where if the
        difference in color is less than that, then those pixels would be
        grouped in an area mask. The higher the threshold, the larger the areas
        that were filled. However, if it was too high, there was too much
        overlap for the objects and caused the area to be filled as a large
        blob. The threshold would vary for the given images. As a result, the
        image produced overall had fewer colors and more solid colors, which is
        what we expected. Once we were satisfied with the result, we
        experimented with using the different filters again and decided the
        median filter visually looked the best.

        <div style="text-align: center; margin: 15px 0 15px 0">
          <img style="height: 200px" alt="" src="texture_filled.jpg" />
          <figcaption style="padding-bottom: 15px">
            Result of applying color fill
          </figcaption>
          <img
            style="height: 200px"
            alt=""
            src="texture_filled_with_median_filter.jpg"
          />
          <figcaption>
            Result of applying median filter with color fill
          </figcaption>
        </div>

        <br /><br />
        
        <!-- Results -->
        <h3>Qualitative results</h3>
        <!--Show several visual examples of inputs/outputs of your system (success cases and failures) that help us better understand your approach.-->
        <div style="text-align: center;">
          <img style="height: 300px" alt="" src="out/hill_test.png" />
          <figcaption style="margin-top: -20px">
            Result for hill image
          </figcaption>
          <img style="height: 300px" alt="" src="out/jogging_test.png" />
          <figcaption style="margin-top: -20px">
            Result for jogging image
          </figcaption>
          <img style="height: 300px" alt="" src="out/beatles_test.png" />
          <figcaption style="margin-top: -20px">
            Result for Beatles image
          </figcaption>
          <img
            style="height: 300px"
            alt=""
            src="out/person_test.png"
          />
          <figcaption style="margin-top: -10px">
            Result for person image
          </figcaption>
        </div>
        <br /><br />

        <hr />
        <footer>
          <p>
            © Joseph Lee, Kelsey Henson, Lydon Puzon, Roger Nhan, Sabrina Chua
          </p>
        </footer>
      </div>
    </div>

    <br /><br />
  </body>
</html>
